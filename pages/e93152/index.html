<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>家庭服务器home server搭建 | 故事</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/assets/img/favicon.ico">
    <meta name="description" content="storyxc技术博客">
    <meta name="author" content="故事">
    <meta name="keywords" content="Java,Python,Vue,VuePress,后端开发">
    
    <link rel="preload" href="/assets/css/0.styles.7305967a.css" as="style"><link rel="preload" href="/assets/js/app.c47fcfce.js" as="script"><link rel="preload" href="/assets/js/2.cc49f402.js" as="script"><link rel="preload" href="/assets/js/143.0adc53c7.js" as="script"><link rel="prefetch" href="/assets/js/10.45a973be.js"><link rel="prefetch" href="/assets/js/100.3a195718.js"><link rel="prefetch" href="/assets/js/101.f58dd906.js"><link rel="prefetch" href="/assets/js/102.79333e95.js"><link rel="prefetch" href="/assets/js/103.0f62b4ab.js"><link rel="prefetch" href="/assets/js/104.6e8d37bd.js"><link rel="prefetch" href="/assets/js/105.a1e8b81b.js"><link rel="prefetch" href="/assets/js/106.bcd2f7e6.js"><link rel="prefetch" href="/assets/js/107.237d6b81.js"><link rel="prefetch" href="/assets/js/108.50074a33.js"><link rel="prefetch" href="/assets/js/109.b2175bfd.js"><link rel="prefetch" href="/assets/js/11.c466625e.js"><link rel="prefetch" href="/assets/js/110.1102d96f.js"><link rel="prefetch" href="/assets/js/111.b09a52f9.js"><link rel="prefetch" href="/assets/js/112.fc34b364.js"><link rel="prefetch" href="/assets/js/113.8a404940.js"><link rel="prefetch" href="/assets/js/114.8e22beb8.js"><link rel="prefetch" href="/assets/js/115.2ec6e666.js"><link rel="prefetch" href="/assets/js/116.ee67c3e8.js"><link rel="prefetch" href="/assets/js/117.5dca24c1.js"><link rel="prefetch" href="/assets/js/118.5eaa5141.js"><link rel="prefetch" href="/assets/js/119.e4898219.js"><link rel="prefetch" href="/assets/js/12.fdf3dfd3.js"><link rel="prefetch" href="/assets/js/120.effaa00f.js"><link rel="prefetch" href="/assets/js/121.e7cde224.js"><link rel="prefetch" href="/assets/js/122.fe9cf914.js"><link rel="prefetch" href="/assets/js/123.c1bf0b20.js"><link rel="prefetch" href="/assets/js/124.2f78298d.js"><link rel="prefetch" href="/assets/js/125.48438044.js"><link rel="prefetch" href="/assets/js/126.37c76b41.js"><link rel="prefetch" href="/assets/js/127.00640afe.js"><link rel="prefetch" href="/assets/js/128.3087338f.js"><link rel="prefetch" href="/assets/js/129.c2f52775.js"><link rel="prefetch" href="/assets/js/13.e2eb4cfb.js"><link rel="prefetch" href="/assets/js/130.66c62e3d.js"><link rel="prefetch" href="/assets/js/131.93664c3c.js"><link rel="prefetch" href="/assets/js/132.03cd8ce8.js"><link rel="prefetch" href="/assets/js/133.83027971.js"><link rel="prefetch" href="/assets/js/134.de834ec3.js"><link rel="prefetch" href="/assets/js/135.7c7ed304.js"><link rel="prefetch" href="/assets/js/136.f8d91b21.js"><link rel="prefetch" href="/assets/js/137.ad4a02c2.js"><link rel="prefetch" href="/assets/js/138.66140915.js"><link rel="prefetch" href="/assets/js/139.8c2c907b.js"><link rel="prefetch" href="/assets/js/14.e4b9a9a5.js"><link rel="prefetch" href="/assets/js/140.8d953da8.js"><link rel="prefetch" href="/assets/js/141.0c966ee8.js"><link rel="prefetch" href="/assets/js/142.0b35b751.js"><link rel="prefetch" href="/assets/js/144.1bce0137.js"><link rel="prefetch" href="/assets/js/145.86ae31d7.js"><link rel="prefetch" href="/assets/js/146.ec78d6e3.js"><link rel="prefetch" href="/assets/js/147.d25532f0.js"><link rel="prefetch" href="/assets/js/148.2bb24424.js"><link rel="prefetch" href="/assets/js/149.aad6ae94.js"><link rel="prefetch" href="/assets/js/15.c3affd84.js"><link rel="prefetch" href="/assets/js/150.8ea69e87.js"><link rel="prefetch" href="/assets/js/151.d8e6b7f9.js"><link rel="prefetch" href="/assets/js/152.3e8c91c7.js"><link rel="prefetch" href="/assets/js/153.13ac29d2.js"><link rel="prefetch" href="/assets/js/154.d0eae672.js"><link rel="prefetch" href="/assets/js/16.11e85a96.js"><link rel="prefetch" href="/assets/js/17.d45d76bb.js"><link rel="prefetch" href="/assets/js/18.55ea0a65.js"><link rel="prefetch" href="/assets/js/19.598a5e5b.js"><link rel="prefetch" href="/assets/js/20.450edde7.js"><link rel="prefetch" href="/assets/js/21.093f7e5a.js"><link rel="prefetch" href="/assets/js/22.0350d53c.js"><link rel="prefetch" href="/assets/js/23.f3ec4f98.js"><link rel="prefetch" href="/assets/js/24.25a34052.js"><link rel="prefetch" href="/assets/js/25.2d8bcf3d.js"><link rel="prefetch" href="/assets/js/26.5ba3187a.js"><link rel="prefetch" href="/assets/js/27.121a9bc2.js"><link rel="prefetch" href="/assets/js/28.4b3c98e0.js"><link rel="prefetch" href="/assets/js/29.4368ea43.js"><link rel="prefetch" href="/assets/js/3.a9535587.js"><link rel="prefetch" href="/assets/js/30.0dcb7545.js"><link rel="prefetch" href="/assets/js/31.f7dc84a8.js"><link rel="prefetch" href="/assets/js/32.b304bd99.js"><link rel="prefetch" href="/assets/js/33.51d7547c.js"><link rel="prefetch" href="/assets/js/34.a5310e98.js"><link rel="prefetch" href="/assets/js/35.3c8bb0c5.js"><link rel="prefetch" href="/assets/js/36.d524eeac.js"><link rel="prefetch" href="/assets/js/37.23d20766.js"><link rel="prefetch" href="/assets/js/38.d5554c60.js"><link rel="prefetch" href="/assets/js/39.df587475.js"><link rel="prefetch" href="/assets/js/4.e5ac8b52.js"><link rel="prefetch" href="/assets/js/40.69a76110.js"><link rel="prefetch" href="/assets/js/41.78c3e1f0.js"><link rel="prefetch" href="/assets/js/42.3d5ca0af.js"><link rel="prefetch" href="/assets/js/43.ae4acf08.js"><link rel="prefetch" href="/assets/js/44.e0457a69.js"><link rel="prefetch" href="/assets/js/45.552c5065.js"><link rel="prefetch" href="/assets/js/46.c08b63e5.js"><link rel="prefetch" href="/assets/js/47.ff56dcef.js"><link rel="prefetch" href="/assets/js/48.a993687d.js"><link rel="prefetch" href="/assets/js/49.5e4603e5.js"><link rel="prefetch" href="/assets/js/5.76817ced.js"><link rel="prefetch" href="/assets/js/50.fb5468a2.js"><link rel="prefetch" href="/assets/js/51.8393e93e.js"><link rel="prefetch" href="/assets/js/52.f96bab63.js"><link rel="prefetch" href="/assets/js/53.536b0a31.js"><link rel="prefetch" href="/assets/js/54.9dab9c2b.js"><link rel="prefetch" href="/assets/js/55.656381c8.js"><link rel="prefetch" href="/assets/js/56.71bf4ace.js"><link rel="prefetch" href="/assets/js/57.dea925cb.js"><link rel="prefetch" href="/assets/js/58.25f305bb.js"><link rel="prefetch" href="/assets/js/59.d23d39c5.js"><link rel="prefetch" href="/assets/js/6.68a33249.js"><link rel="prefetch" href="/assets/js/60.606d9a9e.js"><link rel="prefetch" href="/assets/js/61.e42023eb.js"><link rel="prefetch" href="/assets/js/62.bf67e79d.js"><link rel="prefetch" href="/assets/js/63.2285e732.js"><link rel="prefetch" href="/assets/js/64.eb7c7b88.js"><link rel="prefetch" href="/assets/js/65.8ca97324.js"><link rel="prefetch" href="/assets/js/66.44fbb9b7.js"><link rel="prefetch" href="/assets/js/67.a9d2b5ca.js"><link rel="prefetch" href="/assets/js/68.7478cb55.js"><link rel="prefetch" href="/assets/js/69.8d5168c0.js"><link rel="prefetch" href="/assets/js/7.a1461507.js"><link rel="prefetch" href="/assets/js/70.296512da.js"><link rel="prefetch" href="/assets/js/71.aee400cd.js"><link rel="prefetch" href="/assets/js/72.d9ddac0a.js"><link rel="prefetch" href="/assets/js/73.542c0eef.js"><link rel="prefetch" href="/assets/js/74.5951603b.js"><link rel="prefetch" href="/assets/js/75.9df9ad9f.js"><link rel="prefetch" href="/assets/js/76.0248e153.js"><link rel="prefetch" href="/assets/js/77.df49a6ad.js"><link rel="prefetch" href="/assets/js/78.3608b4ee.js"><link rel="prefetch" href="/assets/js/79.607ee415.js"><link rel="prefetch" href="/assets/js/8.1004039c.js"><link rel="prefetch" href="/assets/js/80.57cd5bae.js"><link rel="prefetch" href="/assets/js/81.b219913a.js"><link rel="prefetch" href="/assets/js/82.3286a21d.js"><link rel="prefetch" href="/assets/js/83.a214cd0b.js"><link rel="prefetch" href="/assets/js/84.5620398a.js"><link rel="prefetch" href="/assets/js/85.e1fe7c6a.js"><link rel="prefetch" href="/assets/js/86.50bda24b.js"><link rel="prefetch" href="/assets/js/87.219ce2c8.js"><link rel="prefetch" href="/assets/js/88.de289d56.js"><link rel="prefetch" href="/assets/js/89.7f54b04b.js"><link rel="prefetch" href="/assets/js/9.19f21bef.js"><link rel="prefetch" href="/assets/js/90.ac7dea3d.js"><link rel="prefetch" href="/assets/js/91.966ef8a0.js"><link rel="prefetch" href="/assets/js/92.8e7e0320.js"><link rel="prefetch" href="/assets/js/93.e3df7add.js"><link rel="prefetch" href="/assets/js/94.23529696.js"><link rel="prefetch" href="/assets/js/95.ab425a02.js"><link rel="prefetch" href="/assets/js/96.34c4f085.js"><link rel="prefetch" href="/assets/js/97.6202ba1b.js"><link rel="prefetch" href="/assets/js/98.0bf0a2a2.js"><link rel="prefetch" href="/assets/js/99.d6c6b560.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7305967a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">故事</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/8c2319/" class="nav-link">指南</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="模块" class="dropdown-title"><!----> <span class="title" style="display:;">模块</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bf6a41/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/ecb94e/" class="nav-link">Python</a></li><li class="dropdown-item"><!----> <a href="/pages/c851b2/" class="nav-link">Golang</a></li><li class="dropdown-item"><!----> <a href="/pages/eeefb8/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/pages/416f59/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/pages/5111ec/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/pages/20fb9d/" class="nav-link">实践</a></li><li class="dropdown-item"><!----> <a href="/pages/de595b/" class="nav-link">折腾</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="归档" class="dropdown-title"><!----> <span class="title" style="display:;">归档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/storyxc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/8c2319/" class="nav-link">指南</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="模块" class="dropdown-title"><!----> <span class="title" style="display:;">模块</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bf6a41/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/ecb94e/" class="nav-link">Python</a></li><li class="dropdown-item"><!----> <a href="/pages/c851b2/" class="nav-link">Golang</a></li><li class="dropdown-item"><!----> <a href="/pages/eeefb8/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/pages/416f59/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/pages/5111ec/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/pages/20fb9d/" class="nav-link">实践</a></li><li class="dropdown-item"><!----> <a href="/pages/de595b/" class="nav-link">折腾</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="归档" class="dropdown-title"><!----> <span class="title" style="display:;">归档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/storyxc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>虚拟机</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/57a97e/" class="sidebar-link">VMWare虚拟机的几种网络连接模式</a></li><li><a href="/pages/7327ec/" class="sidebar-link">安装PVE虚拟机并在PVE安装truenas</a></li><li><a href="/pages/096bf1/" class="sidebar-link">PVE虚拟机异常关机后磁盘检查处理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>家庭网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/87e0d0/" class="sidebar-link">移动光猫改桥接模式</a></li><li><a href="/pages/e93152/" aria-current="page" class="active sidebar-link">家庭服务器home server搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e93152/#需求分析" class="sidebar-link">需求分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e93152/#需求" class="sidebar-link">需求</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#分析" class="sidebar-link">分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/e93152/#硬件" class="sidebar-link">硬件</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#系统搭建" class="sidebar-link">系统搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e93152/#操作系统安装" class="sidebar-link">操作系统安装</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/e93152/#基础配置" class="sidebar-link">基础配置</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#安装服务" class="sidebar-link">安装服务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e93152/#samba文件共享服务" class="sidebar-link">samba文件共享服务</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#docker安装" class="sidebar-link">Docker安装</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#挂载阿里云盘" class="sidebar-link">挂载阿里云盘</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#transmission" class="sidebar-link">transmission</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#qbittorrent" class="sidebar-link">qbittorrent</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#aria2" class="sidebar-link">aria2</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#jellyfin" class="sidebar-link">jellyfin</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#kafka" class="sidebar-link">kafka</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#onedev" class="sidebar-link">onedev</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#rabbitmq" class="sidebar-link">rabbitmq</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#gitea" class="sidebar-link">gitea</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#kafdrop" class="sidebar-link">kafdrop</a></li><li class="sidebar-sub-header"><a href="/pages/e93152/#grafana-prometheus-node-exporter监控linux系统" class="sidebar-link">grafana+prometheus+node_exporter监控linux系统</a></li></ul></li></ul></li><li><a href="/pages/18a0d6/" class="sidebar-link">frp内网穿透</a></li><li><a href="/pages/513116/" class="sidebar-link">openwrt安装及配置</a></li><li><a href="/pages/4be237/" class="sidebar-link">windows挂载webdav的问题处理</a></li><li><a href="/pages/025a80/" class="sidebar-link">pt下载入门</a></li><li><a href="/pages/d28f8c/" class="sidebar-link">openwrt开启ipv6</a></li><li><a href="/pages/41ed75/" class="sidebar-link">山特ups配合nut实现断电安全关机</a></li></ul></section></li><li><a href="/pages/de595b/" class="sidebar-link">简介</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><a href="/categories/?category=%E6%8A%98%E8%85%BE" title="分类" data-v-1cd794fe>折腾</a></li> <li data-v-1cd794fe><a href="/categories/?category=%E5%AE%B6%E5%BA%AD%E7%BD%91%E7%BB%9C" title="分类" data-v-1cd794fe>家庭网络</a></li> <!----></ul> <div class="info" data-v-1cd794fe><div title="作者" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/storyxc" target="_blank" title="作者" class="beLink" data-v-1cd794fe>storyxc</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2022-05-01</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">
          家庭服务器home server搭建
        </h1>  <div class="theme-vdoing-content content__default"><h1 id="家庭服务器home-server搭建"><a href="#家庭服务器home-server搭建" class="header-anchor">#</a> 家庭服务器home server搭建</h1> <p>一直想搞一台nas玩玩儿，但是看了群晖、威联通这些成品nas低到令人发指的性价比，我最终还是决定diy一台小主机来实现自己的需求。</p> <h2 id="需求分析"><a href="#需求分析" class="header-anchor">#</a> 需求分析</h2> <h3 id="需求"><a href="#需求" class="header-anchor">#</a> 需求</h3> <ol><li>共享存储</li> <li>Docker服务</li> <li>跑一些测试程序</li></ol> <h3 id="分析"><a href="#分析" class="header-anchor">#</a> 分析</h3> <ol><li><p>PC上还有块4T的希捷酷鹰，再添3块4T紫盘组raid5阵列。机箱的盘位就至少需要4个以上，挑了一圈就乔思伯N1（5盘位）和万由的810A（8盘位）能看的过去，虽然万由盘位多但是价格比n1高了大几百，目前也用不到这么多盘位，因此机箱确定了n1，主板也要买itx版型。</p></li> <li><p>要跑的docker容器比较多，下载器服务、阿里云的webdav容器、直播录制程序容器等等。。。因此内存需要32G以上。</p></li> <li><p>确定使用的系统是个比较复杂的过程，因为有过PVE虚拟机翻车的经历，这个服务器又主要承载了数据存储功能，所以要追求稳定，因此首先排除PVE和ESXi这些虚拟机系统，直接物理机装系统。然后我在虚拟机上装了最新版的Truenas scale体验了一下，这个系统是基于debian用python开发的，交互上倒没什么问题，但是因为是个纯nas系统，对主系统限制较多，自由度不高（不能直接装软件），因此也被pass，黑群晖这些就不说了，在我看来还不如truenas。一圈排除下来就只能直接装linux server了。去V2EX论坛问了老哥们的意见，推荐debian的很多，也有建议用最熟悉的系统的，最后我选择了后者，选了比较有把握的ubuntu server，正好ubuntu的22.04发行版刚出，就直接安排上了。</p></li></ol> <h2 id="硬件"><a href="#硬件" class="header-anchor">#</a> 硬件</h2> <p>经过了好几天的挑选，最终敲定了这套配置</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>cpu：i3-10100散片
主板：七彩虹cvn b460i frozen
内存：金士顿16g*2 2666
固态：七彩虹 ssd sata3 128g
cpu散热：超频3刀锋
机械硬盘：西数海康oem紫盘4t*3 
电源：tt 350w sfx电源
机箱+线材：乔思伯n1
扩展卡：乐扩m2转sata3接口扩展卡
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>其中散热、固态是在公司的福利商城购买，cpu、机械硬盘、机箱、扩展卡在淘宝购买，主板、电源在京东购买，内存在咸鱼淘的。不算硬盘花费是2480，加上硬盘3755。</p> <p>组装完成后：</p> <ul><li>灵魂走线，又不是不能用(doge）</li></ul> <p><img src="https://storyxc.com/images/blog/D55DA0D4-322D-4A49-9634-9DB667BDD7A4_1_105_c.jpeg" alt="D55DA0D4-322D-4A49-9634-9DB667BDD7A4_1_105_c"></p> <ul><li>侧面</li></ul> <p><img src="https://storyxc.com/images/blog/6C0A8FED-B95C-4FE5-ACCB-32DD8DF553E8_1_105_c.jpeg" alt="6C0A8FED-B95C-4FE5-ACCB-32DD8DF553E8_1_105_c"></p> <p><img src="https://storyxc.com/images/blog/B4E46C72-2CA5-4727-AD52-F3C25F94A74B_1_102_o.jpeg" alt="B4E46C72-2CA5-4727-AD52-F3C25F94A74B_1_102_o"></p> <p>跟其他工业风机箱比起来，乔思伯n1这款颜值还是很不错的。</p> <h2 id="系统搭建"><a href="#系统搭建" class="header-anchor">#</a> 系统搭建</h2> <h3 id="操作系统安装"><a href="#操作系统安装" class="header-anchor">#</a> 操作系统安装</h3> <p>ubuntu官网下载最新版的ubuntu-server-22.04，然后rufus刷写到U盘中，使用U盘引导启动。</p> <p>安装过程不再赘述，这里记录几个重点步骤：</p> <ol><li>在配置Ubuntu安装镜像这一步最好选择国内的企业/大学镜像站，不然后面安装可能会在下载时卡住。网易镜像源<code>http://mirrors.163.com/ubuntu/</code>，阿里云镜像源<code>https://mirrors.aliyun.com/ubuntu/</code>，清华源<code>https://mirrors.tuna.tsinghua.edu.cn/ubuntu/</code></li> <li>磁盘分区选择自定义，然后根据自己的情况进行分区，我的固态只分了<code>/</code>和<code>/boot</code>两个区，然后四块4T机械组了raid5。（ubuntu在建立阵列后会立刻进入重建过程，阵列中会有一个分区状态为<code>spare rebuilding</code>，其他分区为<code>active sync</code>。这个重建过程很久，我4块4T重建总共用了十几个小时，重建完成后阵列下所有分区都会变为<code>active sync</code>状态</li></ol> <p><img src="https://storyxc.com/images/blog/image-20220501014554319.png" alt="image-20220501014554319"></p> <h2 id="基础配置"><a href="#基础配置" class="header-anchor">#</a> 基础配置</h2> <ul><li><p>开启root登陆</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/ssh/sshd_config

<span class="token comment"># 添加配置</span>
PermitRootLogin <span class="token function">yes</span>

<span class="token comment"># 给root修改密码</span>
<span class="token function">sudo</span> <span class="token function">passwd</span> root

systemctl restart sshd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>启用密钥登陆</p></li></ul> <p>​		见另一篇博客 <a href="/pages/974867/">阿里云服务器启用密钥登陆并禁用密码登陆</a></p> <ul><li><p>时区同步</p> <p><code>sudo cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</code></p></li></ul> <h2 id="安装服务"><a href="#安装服务" class="header-anchor">#</a> 安装服务</h2> <p>这个部分长期更新XD，一点点补上吧。</p> <h3 id="samba文件共享服务"><a href="#samba文件共享服务" class="header-anchor">#</a> samba文件共享服务</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 安装samba</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> samba
<span class="token comment"># 启动smb</span>
systemctl start smb
<span class="token comment"># 开机自启</span>
systemctl <span class="token builtin class-name">enable</span> smb

<span class="token comment"># 创建共享文件夹 设置权限770</span>
<span class="token function">mkdir</span> /mnt/data
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">770</span> /mnt/data

<span class="token comment"># 添加用户和密码</span>
<span class="token function">sudo</span> smbpasswd -a 用户名

<span class="token comment"># 修改配置文件，在文件最后添加共享资源设置</span>
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/samba/smb.conf

<span class="token punctuation">[</span>data<span class="token punctuation">]</span>
path <span class="token operator">=</span> /mnt/data
available <span class="token operator">=</span> <span class="token function">yes</span>
browseable <span class="token operator">=</span> <span class="token function">yes</span>
public <span class="token operator">=</span> no
writable <span class="token operator">=</span> <span class="token function">yes</span>
valid <span class="token function">users</span> <span class="token operator">=</span> story
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><blockquote><p>samba共享配置详解</p> <p>[temp]        #共享资源名称</p> <p>comment = Temporary file space  #简单的解释，内容无关紧要</p> <p>path = /tmp    #实际的共享目录</p> <p>writable = yes  #设置为可写入</p> <p>browseable = yes #可以被所有用户浏览到资源名称，</p> <p>guest ok = yes  #可以让用户随意登录</p> <p>public = yes           #允许匿名查看</p> <p>valid users = 用户名   #设置访问用户</p> <p>valid users = @组名   #设置访问组</p> <p>readonly = yes      #只读</p> <p>readonly = no       #读写</p> <p>hosts deny = 192.168.0.0    #表示禁止所有来自192.168.0.0/24 网段的IP 地址访问</p> <p>hosts allow = 192.168.0.24 #表示允许192.168.0.24 这个IP 地址访问</p> <p>[homes]为特殊共享目录，表示用户主目录。</p> <p>[printers]表示共享打印机。</p> <p>原文链接：https://blog.csdn.net/l1593572468/article/details/121444812</p></blockquote> <h3 id="docker安装"><a href="#docker安装" class="header-anchor">#</a> Docker安装</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># Uninstall old versions</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> remove docker docker-engine docker.io containerd runc

<span class="token comment"># Update the apt package index and install packages to allow apt to use a repository over HTTPS:</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token punctuation">\</span>
    ca-certificates <span class="token punctuation">\</span>
    <span class="token function">curl</span> <span class="token punctuation">\</span>
    gnupg <span class="token punctuation">\</span>
    lsb-release
<span class="token comment"># Add Docker’s official GPG key:</span>
<span class="token function">curl</span> -fsSL https://download.docker.com/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

<span class="token comment"># Use the following command to set up the stable repository.</span>
<span class="token builtin class-name">echo</span> <span class="token punctuation">\</span>
  <span class="token string">&quot;deb [arch=<span class="token variable"><span class="token variable">$(</span>dpkg --print-architecture<span class="token variable">)</span></span> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
  <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> stable&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/docker.list <span class="token operator">&gt;</span> /dev/null
  
<span class="token comment"># Install Docker Engine</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io docker-compose-plugin


systemctl <span class="token builtin class-name">enable</span> docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="挂载阿里云盘"><a href="#挂载阿里云盘" class="header-anchor">#</a> 挂载阿里云盘</h3> <p>参考另一篇博客<a href="/pages/614bb2/">挂载阿里云盘+开机自动挂载</a></p> <h3 id="transmission"><a href="#transmission" class="header-anchor">#</a> transmission</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code> docker run -d <span class="token punctuation">\</span>
  --name<span class="token operator">=</span>transmission <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">TRANSMISSION_WEB_HOME</span><span class="token operator">=</span>/transmission-web-control/ <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">PUID</span><span class="token operator">=</span><span class="token number">1000</span> <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">PGID</span><span class="token operator">=</span><span class="token number">1000</span> <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\</span>
  -e <span class="token assign-left variable"><span class="token environment constant">USER</span></span><span class="token operator">=</span><span class="token operator">&lt;</span>user<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">PASS</span><span class="token operator">=</span><span class="token operator">&lt;</span>pass<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  -p <span class="token number">19091</span>:9091 <span class="token punctuation">\</span>
  -p <span class="token number">51413</span>:51413 <span class="token punctuation">\</span>
  -p <span class="token number">51413</span>:51413/udp <span class="token punctuation">\</span>
  -v /mnt/data/docker/transmission/data:/config <span class="token punctuation">\</span>
  -v /mnt/data/downloads/others:/downloads/others <span class="token punctuation">\</span>
  -v /mnt/data/downloads/tvseries:/downloads/tvseries <span class="token punctuation">\</span>
  -v /mnt/data/docker/transmission/watch/folder:/watch <span class="token punctuation">\</span>
  -v /mnt/data/downloads/movies:/downloads/movies <span class="token punctuation">\</span>
  --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
  linuxserver/transmission
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="qbittorrent"><a href="#qbittorrent" class="header-anchor">#</a> qbittorrent</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>run -d <span class="token punctuation">\</span>
  --name<span class="token operator">=</span>qbittorrent <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">PUID</span><span class="token operator">=</span><span class="token number">1000</span> <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">PGID</span><span class="token operator">=</span><span class="token number">1000</span> <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">WEBUI_PORT</span><span class="token operator">=</span><span class="token number">18080</span> <span class="token punctuation">\</span>
  -p <span class="token number">18080</span>:18080 <span class="token punctuation">\</span>
  -p <span class="token number">16881</span>:6881 <span class="token punctuation">\</span>
  -p <span class="token number">16881</span>:6881/udp <span class="token punctuation">\</span>
  -v /mnt/data/docker/qbittorrent/config:/config <span class="token punctuation">\</span>
  -v /mnt/data/docker/qbittorrent/downloads:/downloads <span class="token punctuation">\</span>
  --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
  lscr.io/linuxserver/qbittorrent:latest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="aria2"><a href="#aria2" class="header-anchor">#</a> aria2</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>docker run -d <span class="token punctuation">\</span>
    --name aria2 <span class="token punctuation">\</span>
    --restart always <span class="token punctuation">\</span>
    --log-opt max-size<span class="token operator">=</span>1m <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PUID</span><span class="token operator">=</span><span class="token environment constant">$UID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PGID</span><span class="token operator">=</span><span class="token variable">$GID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">UMASK_SET</span><span class="token operator">=</span>022 <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">RPC_SECRET</span><span class="token operator">=</span><span class="token operator">&lt;</span>secret<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">RPC_PORT</span><span class="token operator">=</span><span class="token number">16800</span> <span class="token punctuation">\</span>
    -p <span class="token number">16800</span>:16800 <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">LISTEN_PORT</span><span class="token operator">=</span><span class="token number">16888</span> <span class="token punctuation">\</span>
    -p <span class="token number">16888</span>:16888 <span class="token punctuation">\</span>
    -p <span class="token number">16888</span>:16888/udp <span class="token punctuation">\</span>
    -v /mnt/data/docker/aria2/config:/config <span class="token punctuation">\</span>
    -v /mnt/data/downloads/tvseries:/downloads/tvseries <span class="token punctuation">\</span>
    -v /mnt/data/downloads/movies:/downloads/movies <span class="token punctuation">\</span>
    -v /mnt/data/downloads/others:/downloads/others <span class="token punctuation">\</span>
    p3terx/aria2-pro
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="jellyfin"><a href="#jellyfin" class="header-anchor">#</a> jellyfin</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>docker run -d <span class="token punctuation">\</span>
  --name<span class="token operator">=</span>jellyfin <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">PUID</span><span class="token operator">=</span><span class="token number">1000</span> <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">PGID</span><span class="token operator">=</span><span class="token number">1000</span> <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\</span>
  -p <span class="token number">18096</span>:8096 <span class="token punctuation">\</span>
  -v /mnt/data/docker/jellyfin/library:/config <span class="token punctuation">\</span>
  -v /mnt/data/downloads/tvseries:/data/tvshows <span class="token punctuation">\</span>
  -v /mnt/data/downloads/movies:/data/movies <span class="token punctuation">\</span>
  --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
  --privileged <span class="token punctuation">\</span>
  linuxserver/jellyfin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="kafka"><a href="#kafka" class="header-anchor">#</a> kafka</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code> <span class="token function">wget</span> https://dlcdn.apache.org/kafka/3.1.1/kafka_2.12-3.1.1.tgz
 <span class="token function">tar</span> -xzvf kafka_2.12-3.1.1.tgz
 
 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>zookeeper.service</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>zookeeper

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>forking
<span class="token assign-left variable">Environment</span><span class="token operator">=</span><span class="token string">&quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/java/jdk1.8.0_333/bin&quot;</span>
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/local/kafka/kafka_2.12-3.1.1/bin/zookeeper-server-start.sh -daemon /usr/local/kafka/kafka_2.12-3.1.1/config/zookeeper.properties
<span class="token assign-left variable">ExecStop</span><span class="token operator">=</span>/usr/local/kafka/kafka_2.12-3.1.1/bin/zookeeper-server-start.sh stop
<span class="token assign-left variable">SyslogIdentifier</span><span class="token operator">=</span>zookeeper

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>kafka.service</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>kafka
<span class="token assign-left variable">After</span><span class="token operator">=</span>zookeeper.service

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>forking
<span class="token assign-left variable">Environment</span><span class="token operator">=</span><span class="token string">&quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/java/jdk1.8.0_333/bin&quot;</span>
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/local/kafka/kafka_2.12-3.1.1/bin/kafka-server-start.sh -daemon /usr/local/kafka/kafka_2.12-3.1.1/config/server.properties
<span class="token assign-left variable">ExecStop</span><span class="token operator">=</span>/usr/local/kafka/kafka_2.12-3.1.1/bin/kafka-server-stop.sh

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="onedev"><a href="#onedev" class="header-anchor">#</a> onedev</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>docker run -d <span class="token punctuation">\</span>
  --name onedev <span class="token punctuation">\</span>
  -v /var/run/docker.sock:/var/run/docker.sock <span class="token punctuation">\</span>
  -v /mnt/data/docker/onedev:/opt/onedev <span class="token punctuation">\</span>
  -p <span class="token number">6610</span>:6610 <span class="token punctuation">\</span> <span class="token comment"># http</span>
  -p <span class="token number">6611</span>:6611 <span class="token punctuation">\</span> <span class="token comment"># ssh</span>
  --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
  1dev/server:latest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="rabbitmq"><a href="#rabbitmq" class="header-anchor">#</a> rabbitmq</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> rabbitmq-server

<span class="token builtin class-name">cd</span> /usr/lib/rabbitmq/bin
<span class="token comment"># 开启rabbit网页控制台 默认端口号15672,重启rabbitmq服务</span>
 ./rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_management
 
<span class="token comment"># rabbitmq默认用户guest不允许远程登陆，且systemd默认的启动用户为rabbitmq，可以改为root</span>
<span class="token builtin class-name">cd</span> /lib/systemd/system
<span class="token function">vim</span> rabbitmq-server.service
 
<span class="token comment"># 新建rabbitmq用户</span>
<span class="token builtin class-name">cd</span> /usr/lib/rabbitmq/bin
./rabbitmqctl add_user username password
<span class="token comment"># 授权</span>
./rabbitmqctl set_user_tags username administrator
./rabbitmqctl set_permissions -p <span class="token string">&quot;/&quot;</span> username <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span>
 
<span class="token comment"># 查看、删除、修改密码</span>
./rabbitmqctl list_users
./rabbitmqctl delete_user username
./rabbitmqctl change_password username newpassword
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="gitea"><a href="#gitea" class="header-anchor">#</a> gitea</h3> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">gitea</span><span class="token punctuation">:</span>
    <span class="token key atrule">external</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">gitea</span><span class="token punctuation">:</span>
    <span class="token key atrule">driver</span><span class="token punctuation">:</span> local

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">server</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> gitea/gitea<span class="token punctuation">:</span>1.16.7
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> gitea
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> DOMAIN=192.168.2.66
      <span class="token punctuation">-</span> HTTP_PORT=6610
      <span class="token punctuation">-</span> SSH_PORT=6611
      <span class="token punctuation">-</span> SSH_LISTEN_PORT=6611
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> gitea
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> gitea<span class="token punctuation">:</span>/data
      <span class="token punctuation">-</span> /etc/timezone<span class="token punctuation">:</span>/etc/timezone<span class="token punctuation">:</span>ro
      <span class="token punctuation">-</span> /etc/localtime<span class="token punctuation">:</span>/etc/localtime<span class="token punctuation">:</span>ro
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;6610:6610&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;6611:6611&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="gitea-webhook-allowed-host-list"><a href="#gitea-webhook-allowed-host-list" class="header-anchor">#</a> gitea webhook allowed host list</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>/var/lib/docker/volumes/gitea_gitea/_data/gitea/conf/app.ini

<span class="token comment"># add the following lines to the end of the file</span>
<span class="token punctuation">[</span>webhook<span class="token punctuation">]</span>
ALLOWED_HOST_LIST <span class="token operator">=</span> <span class="token number">192.168</span>.2.66
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="gitea-and-jenkins-webhook"><a href="#gitea-and-jenkins-webhook" class="header-anchor">#</a> gitea and jenkins webhook</h4> <p>In Jenkins: on the job settings page set &quot;Source Code Management&quot; option to &quot;Git&quot;, provide URL to your repo (http://gitea-url.your.org/username/repo.git), and in &quot;Poll triggers&quot; section check &quot;Poll SCM&quot; option with no schedule defined. This setup basically tells Jenkins to poll your Gitea repo only when requested via the webhook.</p> <p>In Gitea: under repo -&gt; Settings -&gt; Webhooks, add new webhook, set the URL to http://jenkins_url.your.org/gitea-webhook/post, and clear the secret (leave it blank).</p> <p>At this point clicking on &quot;Test Delivery&quot; button should produce a successful delivery attempt (green checkmark).</p> <h3 id="kafdrop"><a href="#kafdrop" class="header-anchor">#</a> kafdrop</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>docker run -d --name kafkaui -p <span class="token number">9000</span>:9000 <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">KAFKA_BROKERCONNECT</span><span class="token operator">=</span><span class="token string">&quot;192.168.2.66:9092&quot;</span><span class="token punctuation">\</span>
    -e <span class="token assign-left variable">JVM_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Xms32M -Xmx64M&quot;</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">SERVER_SERVLET_CONTEXTPATH</span><span class="token operator">=</span><span class="token string">&quot;/&quot;</span> <span class="token punctuation">\</span>
    obsidiandynamics/kafdrop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="grafana-prometheus-node-exporter监控linux系统"><a href="#grafana-prometheus-node-exporter监控linux系统" class="header-anchor">#</a> grafana+prometheus+node_exporter监控linux系统</h3> <h4 id="node-exporter"><a href="#node-exporter" class="header-anchor">#</a> node_exporter</h4> <ul><li><p>wget https://github.com/prometheus/node_exporter/releases/download/v1.5.0/node_exporter-1.5.0.linux-amd64.tar.gz</p></li> <li><p>tar -xvf node_exporter-1.5.0.linux-amd64.tar.gz -C /usr/local/</p></li> <li><p>mv /usr/local/node_exporter/node_exporter /usr/local/bin</p></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>  
<span class="token comment"># 编写systemd服务</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span> /etc/systemd/system/node_exporter.service <span class="token operator">&lt;&lt;</span><span class="token string">EOF
[Unit]
Description=node_exporeter
After=network.target
[Service]
Type=simple
ExecStart=/usr/local/bin/node_exporter
Restart=on-failure
[Install]
WantedBy=multi-user.target
EOF</span>

<span class="token comment"># 更新内核并启动，自启动</span>
systemctl daemon-reload <span class="token operator">&amp;&amp;</span> systemctl start node_exporter <span class="token operator">&amp;&amp;</span> systemctl <span class="token builtin class-name">enable</span> node_exporter <span class="token operator">&amp;&amp;</span> systemctl status node_exporter

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="redis-exporter"><a href="#redis-exporter" class="header-anchor">#</a> redis_exporter</h4> <ul><li>wget https://github.com/oliver006/redis_exporter/releases/download/v1.46.0/redis_exporter-v1.46.0.linux-amd64.tar.gz</li> <li>tar -xvf redis_exporter-v1.46.0.linux-amd64.tar.gz</li> <li>mv redis_exporter-v1.46.0.linux-amd64/redis_exporter /usr/local/bin</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 编写systemd服务</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span> /etc/systemd/system/redis_exporter.service <span class="token operator">&lt;&lt;</span><span class="token string">EOF
[Unit]
Description=redis_exporter
After=network.target
[Service]
Type=simple
ExecStart=/usr/local/bin/redis_exporter -redis.addr ip:port
Restart=on-failure
[Install]
WantedBy=multi-user.target
EOF</span>

<span class="token comment"># 更新内核并启动，自启动</span>
systemctl daemon-reload <span class="token operator">&amp;&amp;</span> systemctl start redis_exporter <span class="token operator">&amp;&amp;</span> systemctl <span class="token builtin class-name">enable</span> redis_exporter <span class="token operator">&amp;&amp;</span> systemctl status redis_exporter
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="grafana-prometheus"><a href="#grafana-prometheus" class="header-anchor">#</a> grafana+prometheus</h4> <p>docker-compose.yml</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.8&quot;</span>


<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">grafana</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> grafana/grafana
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> grafana
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 3000<span class="token punctuation">:</span><span class="token number">3000</span>
    <span class="token key atrule">user</span><span class="token punctuation">:</span> root
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /root/monitor/grafana/conf<span class="token punctuation">:</span>/etc/grafana/
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> TZ=Asia/shanghai
  <span class="token key atrule">prometheus</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> prom/prometheus
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> prometheus
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 9090<span class="token punctuation">:</span><span class="token number">9090</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /root/monitor/prometheus<span class="token punctuation">:</span>/etc/prometheus
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> TZ=Asia/shanghai
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>prometheus.yml</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">global</span><span class="token punctuation">:</span>
  <span class="token key atrule">scrape_interval</span><span class="token punctuation">:</span> 15s
  <span class="token key atrule">evaluation_interval</span><span class="token punctuation">:</span> 15s


<span class="token key atrule">scrape_configs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">job_name</span><span class="token punctuation">:</span> <span class="token string">&quot;linux&quot;</span>
    <span class="token key atrule">scrape_interval</span><span class="token punctuation">:</span> 5s
    <span class="token key atrule">static_configs</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">targets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;192.168.2.66:9100&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>grafana.ini 从空白容器里复制出一份</p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code>docker cp grafana:/etc/grafana.ini ~/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>grafana监控大盘模板</p> <p><code>https://grafana.com/api/dashboards/12633/revisions/1/download</code></p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/storyxc/edit/main/docs/09.折腾/02.家庭网络/02.家庭服务器home server搭建.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=ubuntu-server" title="标签">#ubuntu-server</a><a href="/tags/?tag=%E5%AE%B6%E5%BA%AD%E7%BD%91%E7%BB%9C" title="标签">#家庭网络</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/07/08, 17:20:28</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/87e0d0/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">移动光猫改桥接模式</div></a> <a href="/pages/18a0d6/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">frp内网穿透</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/87e0d0/" class="prev">移动光猫改桥接模式</a></span> <span class="next"><a href="/pages/18a0d6/">frp内网穿透</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/storyxc" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="mailto:storyxc@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2023
    <span><a href="https://storyxc.com" target="_blank" style="font-weight:bold">story</a> | <a href="http://beian.miit.gov.cn/" target=_blank>豫ICP备19046036号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c47fcfce.js" defer></script><script src="/assets/js/2.cc49f402.js" defer></script><script src="/assets/js/143.0adc53c7.js" defer></script>
  </body>
</html>
