(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{522:function(a,s,t){"use strict";t.r(s);var e=t(27),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"centos7防火墙命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos7防火墙命令"}},[a._v("#")]),a._v(" centos7防火墙命令")]),a._v(" "),t("p",[a._v("centos7.0以上的版本默认为firewalld，以下是iptables，整理一下命令备用。")]),a._v(" "),t("h2",{attrs:{id:"firewall-cmd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#firewall-cmd"}},[a._v("#")]),a._v(" firewall-cmd")]),a._v(" "),t("h3",{attrs:{id:"查看防火墙状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看防火墙状态"}},[a._v("#")]),a._v(" 查看防火墙状态")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("firewall-cmd --state\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"查看防火墙规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看防火墙规则"}},[a._v("#")]),a._v(" 查看防火墙规则")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("firewall-cmd --list-all\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"更新防火墙规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更新防火墙规则"}},[a._v("#")]),a._v(" 更新防火墙规则")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("firewall-cmd --reload\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"关闭-开启防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关闭-开启防火墙"}},[a._v("#")]),a._v(" 关闭/开启防火墙")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("systemctl stop firewalld.service\nsystemctl start firewalld.service\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h3",{attrs:{id:"端口操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#端口操作"}},[a._v("#")]),a._v(" 端口操作")]),a._v(" "),t("h3",{attrs:{id:"永久开放端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#永久开放端口"}},[a._v("#")]),a._v(" 永久开放端口")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("firewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5672")]),a._v("/tcp --permanent\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"关闭端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关闭端口"}},[a._v("#")]),a._v(" 关闭端口")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("firewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --remove-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5672")]),a._v("/tcp --permanent\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[a._v("#")])]),a._v(" "),t("h2",{attrs:{id:"iptables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iptables"}},[a._v("#")]),a._v(" iptables")]),a._v(" "),t("h3",{attrs:{id:"开启-关闭防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启-关闭防火墙"}},[a._v("#")]),a._v(" 开启/关闭防火墙")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("systemctl start iptables.service\nsystemctl stop iptables.service\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h3",{attrs:{id:"查看防火墙状态-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看防火墙状态-2"}},[a._v("#")]),a._v(" 查看防火墙状态")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("systemctl status iptables.service\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"开放端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开放端口"}},[a._v("#")]),a._v(" 开放端口")]),a._v(" "),t("p",[a._v("1.命令")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("iptables -I INPUT -p tcp --dport "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8000")]),a._v(" -j ACCEPT\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("2.直接修改/etc/sysconfig/iptables")]),a._v(" "),t("p",[t("code",[a._v("-A INPUT -m state --state NEW -m tcp -p tcp --dport 8000 -j ACCEPT")])]),a._v(" "),t("h3",{attrs:{id:"重启iptables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重启iptables"}},[a._v("#")]),a._v(" 重启iptables")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" iptables restart\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);