(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{544:function(t,s,a){"use strict";a.r(s);var e=a(27),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"node-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js"}},[t._v("#")]),t._v(" Node.js")]),t._v(" "),a("h2",{attrs:{id:"node-js简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js简介"}},[t._v("#")]),t._v(" Node.js简介")]),t._v(" "),a("p",[t._v("Node.js是一个基于Chrome V8引擎的JavaScript运行环境。")]),t._v(" "),a("blockquote",[a("p",[t._v("浏览器是js的前端运行环境")]),t._v(" "),a("p",[t._v("Node.js是js的后端运行环境")])]),t._v(" "),a("h3",{attrs:{id:"node-js中的javascript运行环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js中的javascript运行环境"}},[t._v("#")]),t._v(" Node.js中的JavaScript运行环境")]),t._v(" "),a("ul",[a("li",[t._v("V8引擎")]),t._v(" "),a("li",[t._v("内置API\n"),a("ul",[a("li",[t._v("fs、path、http、JS、querystring。。。")])])])]),t._v(" "),a("h3",{attrs:{id:"node-js可以做什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js可以做什么"}},[t._v("#")]),t._v(" Node.js可以做什么")]),t._v(" "),a("ul",[a("li",[t._v("基于Express可以构建Web应用")]),t._v(" "),a("li",[t._v("基于Electron可以构建跨平台桌面应用")]),t._v(" "),a("li",[t._v("基于restify可以构建API接口项目")]),t._v(" "),a("li",[t._v("读写和操作数据库、创建实用的命令行工具辅助开发。。")])]),t._v(" "),a("h2",{attrs:{id:"基础模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础模块"}},[t._v("#")]),t._v(" 基础模块")]),t._v(" "),a("h3",{attrs:{id:"fs模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fs模块"}},[t._v("#")]),t._v(" fs模块")]),t._v(" "),a("ul",[a("li",[t._v("fs.readFile()\n"),a("ul",[a("li",[t._v("fs.readFile(path[, options], callback)")])])]),t._v(" "),a("li",[t._v("fs.writeFile()\n"),a("ul",[a("li",[t._v("fs.writeFile(file,data[,options], callback)")])])]),t._v(" "),a("li",[t._v("动态拼接路径问题："),a("code",[t._v("__dirname")]),t._v("替代当前文件所处目录\n"),a("ul",[a("li",[a("code",[t._v("__dirname + '/file/1.txt'")])])])])]),t._v(" "),a("h3",{attrs:{id:"path模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#path模块"}},[t._v("#")]),t._v(" path模块")]),t._v(" "),a("ul",[a("li",[t._v("path.join()")]),t._v(" "),a("li",[t._v("path.basename()")])]),t._v(" "),a("h3",{attrs:{id:"http模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http模块"}},[t._v("#")]),t._v(" http模块")]),t._v(" "),a("h4",{attrs:{id:"创建基本的web服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建基本的web服务器"}},[t._v("#")]),t._v(" 创建基本的web服务器")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" http "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" server "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'request'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text/html; charset=utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'111'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http server running at http://127.0.0.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("ul",[a("li",[t._v("req\n"),a("ul",[a("li",[t._v("url：请求url")]),t._v(" "),a("li",[t._v("method：请求方法")])])]),t._v(" "),a("li",[t._v("res\n"),a("ul",[a("li",[t._v("end()：发送响应")])])])]),t._v(" "),a("h2",{attrs:{id:"模块化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块化"}},[t._v("#")]),t._v(" 模块化")]),t._v(" "),a("p",[t._v("模块化是指解决一个复杂问题时，自顶向下逐层把系统划分为若干模块的过程，对于整个系统来说，模块是可组合、分解和更换的单元。")]),t._v(" "),a("p",[t._v("模块化优势：")]),t._v(" "),a("ul",[a("li",[t._v("提高复用性")]),t._v(" "),a("li",[t._v("提高可维护性")]),t._v(" "),a("li",[t._v("可以实现按需加载")])]),t._v(" "),a("h3",{attrs:{id:"node-js模块分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js模块分类"}},[t._v("#")]),t._v(" Node.js模块分类")]),t._v(" "),a("ul",[a("li",[t._v("内置模块")]),t._v(" "),a("li",[t._v("自定义模块")]),t._v(" "),a("li",[t._v("第三方模块")])]),t._v(" "),a("h3",{attrs:{id:"加载模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加载模块"}},[t._v("#")]),t._v(" 加载模块")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("const moduleName = require('moduleName')")])])]),t._v(" "),a("blockquote",[a("p",[t._v("使用require加载模块时会执行被加载模块的代码")]),t._v(" "),a("p",[t._v("使用自定义模块可以省略"),a("code",[t._v(".js")])])]),t._v(" "),a("h3",{attrs:{id:"模块作用域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块作用域"}},[t._v("#")]),t._v(" 模块作用域")]),t._v(" "),a("p",[t._v("在自定义模块中定义的变量、方法等成员只能在当前模块内被访问，这种模块级别的访问限制，叫做模块作用域。")]),t._v(" "),a("p",[t._v("好处：防止全局变量污染")]),t._v(" "),a("h4",{attrs:{id:"向外共享模块作用域中的成员"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#向外共享模块作用域中的成员"}},[t._v("#")]),t._v(" 向外共享模块作用域中的成员")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("module对象：在每个.js自定义模块中都有一个module对象，里面存储了和当前模块有关的信息")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("console.log(module)")])])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("module.exports")]),t._v("：可以使用此对象将模块内的成员共享出去供外部使用，"),a("strong",[t._v("外界使用"),a("code",[t._v("require()")]),t._v("导入自定义模块时，得到的就是module.exports所指向的对象")])]),t._v(" "),a("ul",[a("li",[a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("sayHello")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])])])])]),t._v(" "),a("h4",{attrs:{id:"exports对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exports对象"}},[t._v("#")]),t._v(" exports对象")]),t._v(" "),a("p",[a("code",[t._v("exports")]),t._v("对象是"),a("code",[t._v("module.exports")]),t._v("的简化写法，两者指向同一个对象")]),t._v(" "),a("h3",{attrs:{id:"模块化规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块化规范"}},[t._v("#")]),t._v(" 模块化规范")]),t._v(" "),a("p",[t._v("Node.js遵循Common.js的模块化规范")]),t._v(" "),a("p",[t._v("CommonJS规定")]),t._v(" "),a("ul",[a("li",[t._v("每个模块内部，module代表当前模块")]),t._v(" "),a("li",[t._v("module变量是一个对象，它的exports属性是对外的接口")]),t._v(" "),a("li",[t._v("加载某个模块，其实是加载该模块的module.exports属性。require()方法用于加载模块")])]),t._v(" "),a("h2",{attrs:{id:"npm和包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm和包"}},[t._v("#")]),t._v(" npm和包")]),t._v(" "),a("p",[t._v("npm是Node.js的包管理工具")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("npm install")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("npm uninstall")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("npm install package")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("npm i package")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("npm i package@version")])])])]),t._v(" "),a("p",[t._v("包版本的语义化规范")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("点分十进制，总共三位数字，例如2.14.0")])]),t._v(" "),a("li",[a("p",[t._v("第一位数：大版本")])]),t._v(" "),a("li",[a("p",[t._v("第二位数：功能版本")])]),t._v(" "),a("li",[a("p",[t._v("第三位数：bug修复版本")])]),t._v(" "),a("li",[a("p",[t._v("版本号提升规则：前面版本增长，后面版本号归零")])])]),t._v(" "),a("h3",{attrs:{id:"安装包后多出来的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装包后多出来的文件"}},[t._v("#")]),t._v(" 安装包后多出来的文件")]),t._v(" "),a("ul",[a("li",[t._v("node_modules: 存放所有已安装到项目中的包")]),t._v(" "),a("li",[t._v("package-lock.json：记录node_modules目录下每一个包的下载信息，例如包的名字、版本号、下载地址等")])]),t._v(" "),a("h3",{attrs:{id:"包管理配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#包管理配置文件"}},[t._v("#")]),t._v(" 包管理配置文件")]),t._v(" "),a("p",[t._v("npm规定，项目根目录必须提供"),a("code",[t._v("package.json")]),t._v("的包管理配置文件。用来记录与项目有关的配置信息，例如：")]),t._v(" "),a("ul",[a("li",[t._v("项目的名称、版本号、描述")]),t._v(" "),a("li",[t._v("项目中用到了哪些包")]),t._v(" "),a("li",[t._v("哪些包在开发期间会用到")]),t._v(" "),a("li",[t._v("哪些包在开发和部署时都会用到")])]),t._v(" "),a("p",[t._v("npm创建package.json命令："),a("code",[t._v("npm init -y")])]),t._v(" "),a("blockquote",[a("p",[t._v("运行npm install时，npm会自动把包名、版本记录到package.json中")])]),t._v(" "),a("h3",{attrs:{id:"dependencies节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dependencies节点"}},[t._v("#")]),t._v(" dependencies节点")]),t._v(" "),a("p",[a("code",[t._v("package.json")]),t._v("中有一个dependencies节点专门记录"),a("code",[t._v("npm install")]),t._v("安装了哪些包")]),t._v(" "),a("h3",{attrs:{id:"devdependencies节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devdependencies节点"}},[t._v("#")]),t._v(" devDependencies节点")]),t._v(" "),a("p",[t._v("记录只在开发阶段使用、上线不会用到的包")]),t._v(" "),a("ul",[a("li",[t._v("安装到dev节点中："),a("code",[t._v("npm i packageName -D")]),t._v(" / "),a("code",[t._v("npm install packageName --save-dev")])])]),t._v(" "),a("h3",{attrs:{id:"修改镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改镜像"}},[t._v("#")]),t._v(" 修改镜像")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("npm config get registry")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("npm config set registry=https://registry.npm.taobao.org/")])])]),t._v(" "),a("li",[a("p",[t._v("nrm工具切换镜像源")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("npm i nrm -g")])]),t._v(" "),a("li",[a("code",[t._v("nrm ls")])]),t._v(" "),a("li",[a("code",[t._v("nrm use taobao")])])])])]),t._v(" "),a("h3",{attrs:{id:"包分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#包分类"}},[t._v("#")]),t._v(" 包分类")]),t._v(" "),a("ul",[a("li",[t._v("项目包：被安装到node_modules的都是项目包\n"),a("ul",[a("li",[t._v("开发依赖包")]),t._v(" "),a("li",[t._v("核心依赖包")])])]),t._v(" "),a("li",[t._v("全局包：执行npm install时指定-g参数则会安装为全局包\n"),a("ul",[a("li",[t._v("一般为工具性质的包")]),t._v(" "),a("li",[t._v("npm install package -g")]),t._v(" "),a("li",[t._v("npm uninstall package -g")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("i5ting_toc: md转换为html工具")]),t._v(" "),a("p",[t._v("i5ting_toc -f md -o")])]),t._v(" "),a("h3",{attrs:{id:"包结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#包结构"}},[t._v("#")]),t._v(" 包结构")]),t._v(" "),a("p",[t._v("规范的包结构必须符合：")]),t._v(" "),a("ul",[a("li",[t._v("包必须单独目录")]),t._v(" "),a("li",[t._v("根目录必须包含package.json")]),t._v(" "),a("li",[t._v("package.json必须包含name、version、main三个属性，对应包名、版本号、包的入口")])]),t._v(" "),a("h3",{attrs:{id:"模块的加载机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块的加载机制"}},[t._v("#")]),t._v(" 模块的加载机制")]),t._v(" "),a("ul",[a("li",[t._v("优先从缓存中加载：模块在第一次被加载后会被缓存，意味着多次调用require()不会导致模块的代码被多次执行")]),t._v(" "),a("li",[t._v("内置模块的加载优先级最高")]),t._v(" "),a("li",[t._v("require()加载自定义模块必需指定"),a("code",[t._v("./")]),t._v("或"),a("code",[t._v("../")]),t._v("开头的路径标识符，否则会被当作内置模块或第三方模块，同时如果导入时省略了扩展名，Node.js会按顺序尝试加载以下文件：\n"),a("ul",[a("li",[t._v("按确切文件名加载")]),t._v(" "),a("li",[t._v("补全.js加载")]),t._v(" "),a("li",[t._v("补全.json加载")]),t._v(" "),a("li",[t._v("补全.node记载")]),t._v(" "),a("li",[t._v("加载失败，报错")])])]),t._v(" "),a("li",[t._v("如果required()的标识符不是内置模块也不是"),a("code",[t._v("./")]),t._v("开头的路径标识符会被当作第三方模块，会从/node_modules中加载第三方模块\n"),a("ul",[a("li",[t._v("如果没有找到，就移动到上一层进行加载，直到文件系统根目录，找不到报错")])])]),t._v(" "),a("li",[t._v("目录作为模块标识符的加载顺序\n"),a("ul",[a("li",[t._v("在目录中找package.json的main属性做为require的加载入口")]),t._v(" "),a("li",[t._v("然后找根目录的index.js")]),t._v(" "),a("li",[t._v("都找不到报错")])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);