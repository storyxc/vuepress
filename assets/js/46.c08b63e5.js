(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{488:function(s,t,n){"use strict";n.r(t);var a=n(27),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"cpu占用率高排查思路"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cpu占用率高排查思路"}},[s._v("#")]),s._v(" cpu占用率高排查思路")]),s._v(" "),n("p",[s._v("1."),n("code",[s._v("top")]),s._v("命令找出cpu占用率高的进程pid")]),s._v(" "),n("p",[s._v("2."),n("code",[s._v("top -H -p pid")]),s._v(" 找出cpu占用率高的线程tid")]),s._v(" "),n("p",[s._v("3."),n("code",[s._v('printf "%x" tid')]),s._v("命令打印出tid的十六进制形式")]),s._v(" "),n("p",[s._v("4."),n("code",[s._v("jstack pid | grep 十六进制tid -A 行数")]),s._v("打印堆栈信息 或者 "),n("code",[s._v("jstack pid >> log.txt")]),s._v("将堆栈信息保存在文件中，再从文件中查找对应线程的信息")]),s._v(" "),n("p",[s._v("5."),n("code",[s._v("jstat -gcutil pid 5000")]),s._v(" 每隔5秒打印一次gc情况")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("S0：幸存1区当前使用比例\nS1：幸存2区当前使用比例\nE：伊甸园区使用比例\nO：老年代使用比例\nM：元数据区使用比例\nCCS：压缩使用比例\nYGC：年轻代垃圾回收次数\nFGC：老年代垃圾回收次数\nFGCT：老年代垃圾回收消耗时间\nGCT：垃圾回收消耗总时间\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("6."),n("code",[s._v("jmap -heap pid")]),s._v(" 查看堆内存详细信息")]),s._v(" "),n("p",[s._v("7."),n("code",[s._v("jmap -histo pid > xxx.log")]),s._v(" 输出gc日志到文件")])])}),[],!1,null,null,null);t.default=e.exports}}]);