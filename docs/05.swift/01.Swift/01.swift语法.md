---
title: swift语法
date: 2022-03-15 10:45:57
permalink: /pages/5a28c4/
categories: 
  - swift
  - Swift
tags: 
  - swift
---
# swift语法

> 英文原版：https://docs.swift.org/swift-book/
>
> 中文版：https://swiftgg.gitbook.io/swift/



## 可选类型

*可选类型（optionals）*来处理值可能缺失的情况。

### nil

如果声明一个可选常量或者变量但是没有赋值，它们会自动被设置为 `nil`：

```swift
var surveyAnswer: String? 
// surveyAnswer 会被自动设置为 nil -> var surveyAnswer: String? = nil
```



## 闭包

### 闭包表达式

```swift
{ (parameters) -> return_type in
    statements
}
```

### 尾随闭包（Trailing Closures）

尾随闭包是一个书写在函数圆括号之后的闭包表达式，函数支持将其作为最后一个参数调用。在使用尾随闭包时，不用写出它的参数标签



例如：

```swift
ForEach(modelData.categories.keys.sorted(), id: \.self) { key in
    CategoryRow(categoryName: key, items: modelData.categories[key]!)
}
```

### 多重尾随闭包（multiple trailing closure）

```swift
struct SignInView: View {
    var body: some View {
        Button {
            showingProfile.toggle()
        } label: {
            Label("User Profile", systemImage: "person.crop.circle")
        }
    }
}
```

## 方法

### 在实例方法中修改值类型

结构体和枚举是*值类型*。默认情况下，值类型的属性不能在它的实例方法中被修改。

如果确实需要在某个特定的方法中修改结构体或者枚举的属性，可以为这个方法选择 `可变（mutating）`

```swift
struct Point {
    var x = 0.0, y = 0.0
    mutating func moveBy(x deltaX: Double, y deltaY: Double) {
        x += deltaX
        y += deltaY
    }
}
var somePoint = Point(x: 1.0, y: 1.0)
somePoint.moveBy(x: 2.0, y: 3.0)
print("The point is now at (\(somePoint.x), \(somePoint.y))")
// 打印“The point is now at (3.0, 4.0)”
```

