---
title: 样式
date: 2023-04-22 08:11:31
permalink: /pages/cc67ab/
categories:
  - 前端
  - gists
tags:
  - css
  - gists
---

# 样式

> 记录一些样式相关的代码片段

## 1.导航tab切换滑块跟随移动效果

知识点：

- offsetLeft/Right:获取元素距离自己**定位**父级元素的左、上距离，**只读属性**
- transform: translateX,平面变换
- transition：过渡
- 利用伪元素设置的样式，js无法通过选择器直接获取，可以通过document直接操作样式表

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box {
            display: flex;
            width: 600px;
            height: 200px;
            position: relative;
            margin: 0 auto;
        }
        .tab {
            width: 300px;
            height: 200px;
            text-align: center;
            line-height: 100px;
            color: #000;
            font-size: 30px;
            cursor: pointer;
            line-height: 200px;
        }
        .box::after {
            content: "";
            width: 300px;
            height: 5px;
            background-color: red;
            position: absolute;
            left: 0;
            bottom: 0;
            transition: all 0.3s;
        }
    </style>
</head>

<body>
<div class="box" onclick="changeTab(event)">
    <div class="tab" >1</div>
    <div class="tab" >2</div>
</div>


<script>
    function changeTab(e) {
        console.log(e)
        let target = e.target;
        if (target.className !== 'tab') return;
        // 把box的after伪元素横向移动 当前点击的tab的offsetLeft像素
        document.styleSheets[0].addRule('.box::after', `transform: translateX(${target.offsetLeft}px)`);
    }
</script>
</body>

</html>
```

## 2.解决滚动条挤压页面宽度

```css
html {
  scrollbar-gutter: stable both-edges;
}

body::-webkit-scrollbar {
  width: 0;
}

html {
    width: 100vw; //会添加水平滚动条
}

html {
  overflow: overlay; // 已废弃
}
```

### 3.drop-shadow投影效果

知识点：

- will-change
- filter：drop-shadow(offset-x offset-y blur-radius color),对图像应用投影效果
  - 水平偏移、垂直偏移、模糊半径、颜色

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box {
            background-color: #1e1e20;
        }
        .box img {
            will-change: filter;
        }

        .box img:hover {
            filter: drop-shadow(10px 10px 50px #3F94FA);
        }
    </style>
</head>
<body>  
    <div class="box">
        <img src="./logo-with-shadow.png" alt="">
    </div>
</body>
</html>
```

