---
title: golang基础语法
date: 2023-06-25 22:24:49
permalink: /pages/2c6d76/
categories:
  - go
  - Golang基础
tags:
  - 
---
# Golang基础语法

## 第一个Go程序

```go
package main

import "fmt"

func main() {
	fmt.Println("Hello, World!")
}
```

## 关键字

- `package`：定义当前源码文件所属的包。
- `import`：导入其他包。
- `func`：定义函数。
- `var`：声明变量。
- `const`：声明常量。
- `type`：定义类型。
- `struct`：定义结构体。
- `interface`：定义接口。
- `map`：定义映射类型。
- `range`：用于循环迭代。
- `select`：用于通道操作。
- `defer`：延迟执行。
- `go`：启动一个新的 goroutine。
- `chan`：定义通道类型。
- `default`：select 语句中的默认情况。
- `fallthrough`：在 switch 语句中贯穿到下一个 case。
- `if`：条件语句。
- `else`：if 语句中的默认情况。
- `switch`：多分支条件语句。
- `case`：switch 语句中的分支情况。
- `for`：循环语句。
- `break`：跳出循环或 switch 语句。
- `continue`：结束当前循环，开始下一次循环。
- `return`：返回函数结果。
- `panic`：抛出异常。

## 变量与常量

### 变量

#### 声明变量不赋值

```go
package main

import "fmt"

func main() {
	var a int
	fmt.Println("a = ", a)
	fmt.Printf("a的类型是%T\n", a)
}
// a = 0
// a的类型是int
```

#### 声明变量并初始化

```go
package main

import "fmt"

func main() {
	var a int = 10
	fmt.Println("a =", a)
	fmt.Printf("a的类型是%T\n", a)

	var b string = "hello"
	fmt.Println("b =", b)
	fmt.Printf("b的类型是%T\n", b)
}
// a = 10
// a的类型是int
// b = hello
// b的类型是string
```

#### 声明变量省略类型

```go
package main

import "fmt"

func main() {
	var a = 10
	fmt.Println("a =", a)
	fmt.Printf("a的类型是%T\n", a)

	var b = "hello"
	fmt.Println("b =", b)
	fmt.Printf("b的类型是%T\n", b)
}
// a = 10
// a的类型是int
// b = hello
// b的类型是string
```

#### 短声明（只能在函数内）

```go
package main

import "fmt"

func main() {
	c := "1"
	fmt.Printf("c = %s, c的类型是%T\n", c, c)
}
// c = 1, c的类型是string
```

#### 多变量声明

```go
package main

func main(){
    var xx, yy int = 100, 200
    var kk, wx = 300, "666
    var (
        nn int = 100
        mm bool = true
    )
}
```

### 常量

```go
package main

import "fmt"

func main(){
    // 常量(只读属性)
    const length int = 10
    // length = 100  // 常量是不允许被修改的
    fmt.Println("length = ", length)
}
```

#### 使用常量定义枚举类型

```go
package main

import "fmt"

// const来定义枚举类型
const (
    BEIJING = 0
    SHANGHAI = 1
    SHENZHEN = 2
)

func main() {
    fmt.Println("BEIJING = ", BEIJING)      // 0
    fmt.Println("SHANGHAI = ", SHANGHAI)    // 1
    fmt.Println("SHENZHEN = ", SHENZHEN)    // 2
}
```

#### iota常量计数器

`iota` 是一个常量生成器，用于生成一组相关的枚举值。`iota` 可以与 `const` 关键字一起使用，在定义一组枚举时，用来生成连续的值。const 中每新增一行常量声明将使 iota 计数一次(iota 可理解为 const 语句块中的行索引)

```go
// iota 初始值为 0，每当出现一个新的常量声明时，它的值就会自动加 1，因此 Monday 的值为 1，Tuesday 的值为 2，以此类推。
const (
    Sunday = iota // 0
    Monday        // 1
    Tuesday       // 2
    Wednesday     // 3
    Thursday      // 4
    Friday        // 5
    Saturday      // 6
)

// 在下面的例子中，B 被显式赋值为 3.14，因此接下来的 C 的值为 iota + 1，即 2，而 D 的值也是 iota + 1，所以它的值为 3。
const (
    A = iota // 0
    B = 3.14 // 3.14
    C = iota // 2
    D        // 3
)
```

```go
package main

import "fmt"

// 定义递增的步长
const (
    BEIJING = iota * 10
    SHANGHAI
    SHENZHEN
)

func main() {
    fmt.Println("BEIJING = ", BEIJING)      // 0
    fmt.Println("SHANGHAI = ", SHANGHAI)    // 10
    fmt.Println("SHENZHEN = ", SHENZHEN)    // 20
}
```

